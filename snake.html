<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snake Classic - Game Hub</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        background: #000000;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: 'Courier New', monospace;
        color: white;
        position: relative;
        overflow: hidden;
        width: 100vw;
        height: 100vh;
        box-sizing: border-box;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(255, 255, 255, 0.03) 2px,
          rgba(255, 255, 255, 0.03) 4px
        );
        pointer-events: none;
        z-index: 1000;
      }

      #gameCanvas {
        border: 3px solid white;
        background: #000000;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
      }

      .back-button {
        position: absolute;
        top: 20px;
        left: 20px;
        background: black;
        color: white;
        border: 2px solid white;
        padding: 8px 16px;
        border-radius: 0;
        font-size: 12px;
        font-weight: 900;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-family: 'Courier New', monospace;
        z-index: 1000;
      }

      .game-info {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        font-family: 'Courier New', monospace;
        width: 160px;
        max-width: calc(100vw - 450px);
        z-index: 1000;
      }

      .score {
        font-size: 16px;
        color: white;
        font-weight: 900;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border: 2px solid white;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.8);
        text-align: center;
      }

      .controls {
        font-size: 11px;
        opacity: 0.9;
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
        letter-spacing: 0.3px;
        color: #ccc;
        line-height: 1.4;
        border: 1px solid #666;
        padding: 12px;
        background: rgba(0, 0, 0, 0.6);
        text-align: center;
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-button">Back</a>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div class="game-info">
      <div class="score">Score: <span id="score">0</span></div>
      <div class="controls">
        Use arrow keys to move<br />
        • Eat white food<br />
        • Don't hit walls or yourself!
      </div>
    </div>

    <script>
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const scoreElement = document.getElementById('score');

      const gridSize = 20;
      const tileCount = canvas.width / gridSize;

      let snake = [{ x: 10, y: 10 }];
      let food = {};
      let dx = 0;
      let dy = 0;
      let score = 0;

      function randomFood() {
        food = {
          x: Math.floor(Math.random() * tileCount),
          y: Math.floor(Math.random() * tileCount),
        };
      }

      function drawGame() {
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.strokeStyle = '#333';
        ctx.lineWidth = 1;
        for (let x = 0; x <= canvas.width; x += gridSize) {
          ctx.beginPath();
          ctx.moveTo(x, 0);
          ctx.lineTo(x, canvas.height);
          ctx.stroke();
        }
        for (let y = 0; y <= canvas.height; y += gridSize) {
          ctx.beginPath();
          ctx.moveTo(0, y);
          ctx.lineTo(canvas.width, y);
          ctx.stroke();
        }

        snake.forEach((part, index) => {
          const x = part.x * gridSize;
          const y = part.y * gridSize;
          const size = gridSize - 2;

          if (index === 0) {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(x, y, size, size);
            ctx.fillStyle = '#000000';
            let eyeSize = 3;
            let eyeOffset = 4;

            if (dx === 1) {
              ctx.fillRect(
                x + size - eyeOffset,
                y + eyeOffset,
                eyeSize,
                eyeSize
              );
              ctx.fillRect(
                x + size - eyeOffset,
                y + size - eyeOffset - eyeSize,
                eyeSize,
                eyeSize
              );
            } else if (dx === -1) {
              ctx.fillRect(x + 2, y + eyeOffset, eyeSize, eyeSize);
              ctx.fillRect(
                x + 2,
                y + size - eyeOffset - eyeSize,
                eyeSize,
                eyeSize
              );
            } else if (dy === 1) {
              ctx.fillRect(
                x + eyeOffset,
                y + size - eyeOffset,
                eyeSize,
                eyeSize
              );
              ctx.fillRect(
                x + size - eyeOffset - eyeSize,
                y + size - eyeOffset,
                eyeSize,
                eyeSize
              );
            } else if (dy === -1) {
              ctx.fillRect(x + eyeOffset, y + 2, eyeSize, eyeSize);
              ctx.fillRect(
                x + size - eyeOffset - eyeSize,
                y + 2,
                eyeSize,
                eyeSize
              );
            }

            ctx.strokeStyle = '#888888';
            ctx.lineWidth = 1;
            ctx.strokeRect(x, y, size, size);
          } else {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(x, y, size, size);

            if (index % 2 === 0) {
              ctx.fillStyle = '#cccccc';
              ctx.fillRect(x + 2, y + 2, size - 4, size - 4);
            }

            ctx.strokeStyle = '#666666';
            ctx.lineWidth = 1;
            ctx.strokeRect(x, y, size, size);
          }
        });

        const foodX = food.x * gridSize;
        const foodY = food.y * gridSize;
        const foodSize = gridSize - 2;
        ctx.fillStyle = '#ffffff';
        ctx.beginPath();
        ctx.arc(
          foodX + foodSize / 2,
          foodY + foodSize / 2,
          foodSize / 2 - 2,
          0,
          2 * Math.PI
        );
        ctx.fill();
        ctx.fillStyle = '#cccccc';
        ctx.fillRect(foodX + foodSize / 2 - 1, foodY + 2, 2, 4);
        ctx.fillStyle = '#888888';
        ctx.beginPath();
        ctx.arc(
          foodX + foodSize / 2 - 3,
          foodY + foodSize / 2 - 3,
          2,
          0,
          2 * Math.PI
        );
        ctx.fill();

        ctx.strokeStyle = '#ffffff';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.arc(
          foodX + foodSize / 2,
          foodY + foodSize / 2,
          foodSize / 2 - 2,
          0,
          2 * Math.PI
        );
        ctx.stroke();
      }

      function moveSnake() {
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };
        if (
          head.x < 0 ||
          head.x >= tileCount ||
          head.y < 0 ||
          head.y >= tileCount
        ) {
          resetGame();
          return;
        }
        if (snake.some(part => part.x === head.x && part.y === head.y)) {
          resetGame();
          return;
        }
        snake.unshift(head);
        if (head.x === food.x && head.y === food.y) {
          score += 10;
          scoreElement.textContent = score;
          randomFood();
        } else {
          snake.pop();
        }
      }

      function resetGame() {
        snake = [{ x: 10, y: 10 }];
        dx = 0;
        dy = 0;
        score = 0;
        scoreElement.textContent = score;
        randomFood();
      }

      function gameLoop() {
        moveSnake();
        drawGame();
      }

      document.addEventListener('keydown', e => {
        switch (e.key) {
          case 'ArrowUp':
            if (dy !== 1) {
              dx = 0;
              dy = -1;
            }
            break;
          case 'ArrowDown':
            if (dy !== -1) {
              dx = 0;
              dy = 1;
            }
            break;
          case 'ArrowLeft':
            if (dx !== 1) {
              dx = -1;
              dy = 0;
            }
            break;
          case 'ArrowRight':
            if (dx !== -1) {
              dx = 1;
              dy = 0;
            }
            break;
        }
      });
      randomFood();
      setInterval(gameLoop, 150);
      drawGame();
    </script>
  </body>
</html>
